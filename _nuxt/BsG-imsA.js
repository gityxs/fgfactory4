import{u as qt,a as It,g as Lt,_ as Ft,b as Tt,c as Ot,d as Pt,e as Kt,f as Ee,h as Rt}from"./BC2DmP6D.js";import{q as c,s as Mt,v as Dt,x as M,y as Fe,z as ke,A as v,o as d,B as F,C as Nt,c as L,D as $e,F as ce,j as t,E as tt,G as Ae,H as Xe,I as nt,r as W,J as Be,K as We,w as p,L as I,M as T,N as ve,P as G,O as Ut,Q as he,R as jt,b as _,n as st,S as Gt,T as Ye,U as qe,V as Le,W as ie,d as pe,X as Te,Y as Oe,Z as Ht,$ as Wt,a0 as Xt,a1 as Yt,a2 as Jt,a3 as Qt,a4 as it,a5 as Zt,a6 as ea,a7 as ta,a8 as aa,t as N,a9 as Je,aa as na,e as ae,a as q,ab as E,ac as Ue,ad as ot,ae as sa,af as Ge,ag as me,ah as ia,p as Ve,ai as lt,aj as zt,ak as St,al as $t,am as Se,an as at,ao as oa,ap as kt,aq as Bt,ar as la,as as De,at as et,au as ra,av as ze,aw as yt,ax as ua,ay as da,az as ca,aA as pa,aB as xt,aC as fa,aD as ma,h as ga}from"./DyZwVXZS.js";function Et(s){return s==null}function va(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}function ha(s){return c(()=>{var i;return Mt(s)?!!((i=Dt(s))!=null&&i.closest("form")):!0})}const _t=M({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(s){const i=s,{primitiveElement:e,currentElement:a}=Fe(),o=c(()=>i.checked??i.value);return ke(o,(n,r)=>{if(!a.value)return;const l=a.value,u=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(u,"value").set;if(g&&n!==r){const h=new Event("input",{bubbles:!0}),x=new Event("change",{bubbles:!0});g.call(l,n),l.dispatchEvent(h),l.dispatchEvent(x)}}),(n,r)=>(d(),v(Nt,F({ref_key:"primitiveElement",ref:e},{...i,...n.$attrs},{as:"input"}),null,16))}}),ba=M({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(s){const i=s,e=c(()=>typeof i.value=="object"&&Array.isArray(i.value)&&i.value.length===0&&i.required),a=c(()=>typeof i.value=="string"||typeof i.value=="number"||typeof i.value=="boolean"?[{name:i.name,value:i.value}]:typeof i.value=="object"&&Array.isArray(i.value)?i.value.flatMap((o,n)=>typeof o=="object"?Object.entries(o).map(([r,l])=>({name:`[${i.name}][${n}][${r}]`,value:l})):{name:`[${i.name}][${n}]`,value:o}):i.value!==null&&typeof i.value=="object"&&!Array.isArray(i.value)?Object.entries(i.value).map(([o,n])=>({name:`[${i.name}][${o}]`,value:n})):[]);return(o,n)=>e.value?(d(),v(_t,F({key:o.name},{...i,...o.$attrs},{name:o.name,value:o.value}),null,16,["name","value"])):(d(!0),L(ce,{key:1},$e(a.value,r=>(d(),v(_t,F({key:r.name,ref_for:!0},{...i,...o.$attrs},{name:r.name,value:r.value}),null,16,["name","value"]))),128))}});function At(s){const i=c(()=>t(s)),e=c(()=>new Intl.Collator("en",{usage:"search",...i.value}));return{startsWith:(r,l)=>l.length===0?!0:(r=r.normalize("NFC"),l=l.normalize("NFC"),e.value.compare(r.slice(0,l.length),l)===0),endsWith:(r,l)=>l.length===0?!0:(r=r.normalize("NFC"),l=l.normalize("NFC"),e.value.compare(r.slice(-l.length),l)===0),contains:(r,l)=>{if(l.length===0)return!0;r=r.normalize("NFC"),l=l.normalize("NFC");let u=0;const b=l.length;for(;u+b<=r.length;u++){const g=r.slice(u,u+b);if(e.value.compare(l,g)===0)return!0}return!1}}}function ya(s,i,e){return s===void 0?!1:Array.isArray(s)?s.some(a=>Ne(a,i,e)):Ne(s,i,e)}function Ne(s,i,e){return s===void 0||i===void 0?!1:typeof s=="string"?s===i:typeof e=="function"?e(s,i):typeof e=="string"?(s==null?void 0:s[e])===(i==null?void 0:i[e]):tt(s,i)}function xa(s,i,e){const a=s.findIndex(l=>tt(l,i)),o=s.findIndex(l=>tt(l,e));if(a===-1||o===-1)return[];const[n,r]=[a,o].sort((l,u)=>l-u);return s.slice(n,r+1)}const[Qe,_a]=Ae("ListboxRoot"),Ca=M({__name:"ListboxRoot",props:{modelValue:{},defaultValue:{},multiple:{type:Boolean},orientation:{default:"vertical"},dir:{},disabled:{type:Boolean},selectionBehavior:{default:"toggle"},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(s,{expose:i,emit:e}){const a=s,o=e,{multiple:n,highlightOnHover:r,orientation:l,disabled:u,selectionBehavior:b,dir:g}=Xe(a),{getItems:h}=nt({isProvider:!0}),{handleTypeaheadSearch:x}=qt(),{primitiveElement:$,currentElement:C}=Fe(),D=va(),Q=It(g),oe=ha(C),H=W(),A=W(!1),le=W(!0),K=Be(a,"modelValue",o,{defaultValue:a.defaultValue??(n.value?[]:void 0),passive:a.modelValue===void 0,deep:!0});function Y(y){if(A.value=!0,a.multiple){const z=Array.isArray(K.value)?[...K.value]:[],w=z.findIndex(m=>Ne(m,y,a.by));a.selectionBehavior==="toggle"?(w===-1?z.push(y):z.splice(w,1),K.value=z):(K.value=[y],H.value=y)}else a.selectionBehavior==="toggle"&&Ne(K.value,y,a.by)?K.value=void 0:K.value=y;setTimeout(()=>{A.value=!1},1)}const P=W(null),Z=W(null),V=W(!1),X=W(!1),R=We(),ee=We(),re=We();function ue(){return h().map(y=>y.ref).filter(y=>y.dataset.disabled!=="")}function S(y,z=!0){if(!y)return;P.value=y,le.value&&P.value.focus(),z&&P.value.scrollIntoView({block:"nearest"});const w=h().find(m=>m.ref===y);o("highlight",w)}function U(y){if(V.value)re.trigger(y);else{const z=h().find(w=>Ne(w.value,y,a.by));z&&(P.value=z.ref,S(z.ref))}}function j(y){P.value&&P.value.isConnected&&(y.preventDefault(),y.stopPropagation(),X.value||P.value.click())}function f(y){if(le.value){if(A.value=!0,V.value)ee.trigger(y);else{const z=y.altKey||y.ctrlKey||y.metaKey;if(z&&y.key==="a"&&n.value){const w=h(),m=w.map(k=>k.value);K.value=[...m],y.preventDefault(),S(w[w.length-1].ref)}else if(!z){const w=x(y.key,h());w&&S(w)}}setTimeout(()=>{A.value=!1},1)}}function fe(){X.value=!0}function ye(){requestAnimationFrame(()=>{X.value=!1})}function _e(){ve(()=>{const y=new KeyboardEvent("keydown",{key:"PageUp"});te(y)})}function ge(y){const z=P.value;z!=null&&z.isConnected&&(Z.value=z),P.value=null,o("leave",y)}function Ce(y){var w,m;const z=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if((w=y.currentTarget)==null||w.dispatchEvent(z),o("entryFocus",z),!z.defaultPrevented)if(Z.value)S(Z.value);else{const k=(m=ue())==null?void 0:m[0];S(k)}}function te(y){const z=Lt(y,l.value,Q.value);if(!z)return;let w=ue();if(P.value){if(z==="last")w.reverse();else if(z==="prev"||z==="next"){z==="prev"&&w.reverse();const m=w.indexOf(P.value);w=w.slice(m+1)}we(y,w[0])}if(w.length){const m=!P.value&&z==="prev"?w.length-1:0;S(w[m])}if(V.value)return ee.trigger(y)}function we(y,z){var m;if(!(V.value||a.selectionBehavior!=="replace"||!n.value||!Array.isArray(K.value)||(y.altKey||y.ctrlKey||y.metaKey)&&!y.shiftKey)&&y.shiftKey){const k=h().filter(J=>J.ref.dataset.disabled!=="");let B=(m=k.find(J=>J.ref===z))==null?void 0:m.value;if(y.key===D.END?B=k[k.length-1].value:y.key===D.HOME&&(B=k[0].value),!B||!H.value)return;const de=xa(k.map(J=>J.value),H.value,B);K.value=de}}async function Ie(y){if(await ve(),V.value)R.trigger(y);else{const z=ue(),w=z.find(m=>m.dataset.state==="checked");w?S(w):z.length&&S(z[0])}}return ke(K,()=>{A.value||ve(()=>{Ie()})},{immediate:!0,deep:!0}),i({highlightedElement:P,highlightItem:U,highlightFirstItem:_e,highlightSelected:Ie,getItems:h}),_a({modelValue:K,onValueChange:Y,multiple:n,orientation:l,dir:Q,disabled:u,highlightOnHover:r,highlightedElement:P,isVirtual:V,virtualFocusHook:R,virtualKeydownHook:ee,virtualHighlightHook:re,by:a.by,firstValue:H,selectionBehavior:b,focusable:le,onLeave:ge,onEnter:Ce,changeHighlight:S,onKeydownEnter:j,onKeydownNavigation:te,onKeydownTypeAhead:f,onCompositionStart:fe,onCompositionEnd:ye,highlightFirstItem:_e}),(y,z)=>(d(),v(t(G),{ref_key:"primitiveElement",ref:$,as:y.as,"as-child":y.asChild,dir:t(Q),"data-disabled":t(u)?"":void 0,onPointerleave:ge,onFocusout:z[0]||(z[0]=async w=>{const m=w.relatedTarget||w.target;await ve(),P.value&&t(C)&&!t(C).contains(m)&&ge(w)})},{default:p(()=>[I(y.$slots,"default",{modelValue:t(K)}),t(oe)&&y.name?(d(),v(t(ba),{key:0,name:y.name,value:t(K),disabled:t(u),required:y.required},null,8,["name","value","disabled","required"])):T("",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),[be,wa]=Ae("ComboboxRoot"),Ia=M({__name:"ComboboxRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},resetSearchTermOnBlur:{type:Boolean,default:!0},resetSearchTermOnSelect:{type:Boolean,default:!0},ignoreFilter:{type:Boolean},modelValue:{},defaultValue:{},multiple:{type:Boolean},dir:{},disabled:{type:Boolean},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","update:open"],setup(s,{expose:i,emit:e}){var ee,re,ue;const a=s,o=e,{primitiveElement:n,currentElement:r}=Fe(),{multiple:l,disabled:u,ignoreFilter:b,resetSearchTermOnSelect:g,dir:h}=Xe(a),x=It(h),$=Be(a,"modelValue",o,{defaultValue:a.defaultValue??(l.value?[]:void 0),passive:a.modelValue===void 0,deep:!0}),C=Be(a,"open",o,{defaultValue:a.defaultOpen,passive:a.open===void 0});async function D(S){var U,j;C.value=S,V.search="",S?(await ve(),(U=n.value)==null||U.highlightSelected(),oe.value=!0):oe.value=!1,(j=A.value)==null||j.focus(),setTimeout(()=>{!S&&a.resetSearchTermOnBlur&&Q.trigger()},1)}const Q=We(),oe=W(!1),H=W(!1),A=W(),le=W(),K=c(()=>{var S;return((S=n.value)==null?void 0:S.highlightedElement)??void 0}),Y=W(new Map),P=W(new Map),{contains:Z}=At({sensitivity:"base"}),V=Ut({search:"",filtered:{count:0,items:new Map,groups:new Set}});function X(){if(!V.search||a.ignoreFilter||H.value){V.filtered.count=Y.value.size;return}V.filtered.groups=new Set;let S=0;for(const[U,j]of Y.value){const f=Z(j,V.search);V.filtered.items.set(U,f?1:0),f&&S++}for(const[U,j]of P.value)for(const f of j)if(V.filtered.items.get(f)>0){V.filtered.groups.add(U);break}V.filtered.count=S}ke([()=>V.search,()=>Y.value.size],()=>{X()},{immediate:!0}),ke(()=>C.value,()=>{ve(()=>{C.value&&X()})},{flush:"post"});const R=jt();return he(()=>{var S,U,j;R!=null&&R.exposed&&(R.exposed.highlightItem=(S=n.value)==null?void 0:S.highlightItem,R.exposed.highlightFirstItem=(U=n.value)==null?void 0:U.highlightFirstItem,R.exposed.highlightSelected=(j=n.value)==null?void 0:j.highlightSelected)}),i({filtered:c(()=>V.filtered),highlightedElement:K,highlightItem:(ee=n.value)==null?void 0:ee.highlightItem,highlightFirstItem:(re=n.value)==null?void 0:re.highlightFirstItem,highlightSelected:(ue=n.value)==null?void 0:ue.highlightSelected}),wa({modelValue:$,multiple:l,disabled:u,open:C,onOpenChange:D,contentId:"",isUserInputted:oe,isVirtual:H,inputElement:A,highlightedElement:K,onInputElementChange:S=>A.value=S,triggerElement:le,onTriggerElementChange:S=>le.value=S,parentElement:r,resetSearchTermOnSelect:g,onResetSearchTerm:Q.on,allItems:Y,allGroups:P,filterState:V,ignoreFilter:b}),(S,U)=>(d(),v(t(Ft),null,{default:p(()=>[_(t(Ca),F({ref_key:"primitiveElement",ref:n},S.$attrs,{modelValue:t($),"onUpdate:modelValue":U[0]||(U[0]=j=>st($)?$.value=j:null),style:{pointerEvents:t(C)?"auto":void 0},as:S.as,"as-child":S.asChild,dir:t(x),multiple:t(l),name:S.name,required:S.required,disabled:t(u),"highlight-on-hover":!0,by:a.by,onHighlight:U[1]||(U[1]=j=>o("highlight",j))}),{default:p(()=>[I(S.$slots,"default",{open:t(C),modelValue:t($)})]),_:3},16,["modelValue","style","as","as-child","dir","multiple","name","required","disabled","by"])]),_:3}))}}),za=M({__name:"ListboxFilter",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},emits:["update:modelValue"],setup(s,{emit:i}){const e=s,o=Be(e,"modelValue",i,{defaultValue:"",passive:e.modelValue===void 0}),n=Qe(),{primitiveElement:r,currentElement:l}=Fe(),u=c(()=>e.disabled||n.disabled.value||!1),b=W();return Gt(()=>{var g;return b.value=(g=n.highlightedElement.value)==null?void 0:g.id}),he(()=>{n.focusable.value=!1,setTimeout(()=>{var g;e.autoFocus&&((g=l.value)==null||g.focus())},1)}),Ye(()=>{n.focusable.value=!0}),(g,h)=>(d(),v(t(G),{ref_key:"primitiveElement",ref:r,as:g.as,"as-child":g.asChild,value:t(o),disabled:u.value?"":void 0,"data-disabled":u.value?"":void 0,"aria-disabled":u.value??void 0,"aria-activedescendant":b.value,type:"text",onKeydown:[qe(Le(t(n).onKeydownNavigation,["prevent"]),["down","up","home","end"]),qe(t(n).onKeydownEnter,["enter"])],onInput:h[0]||(h[0]=x=>{o.value=x.target.value,t(n).highlightFirstItem(x)}),onCompositionstart:t(n).onCompositionStart,onCompositionend:t(n).onCompositionEnd},{default:p(()=>[I(g.$slots,"default",{modelValue:t(o)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),Sa=M({__name:"ComboboxInput",props:{displayValue:{},modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},emits:["update:modelValue"],setup(s,{emit:i}){const e=s,a=i,o=be(),n=Qe(),{primitiveElement:r,currentElement:l}=Fe(),u=Be(e,"modelValue",a,{passive:e.modelValue===void 0});he(()=>{l.value&&o.onInputElementChange(l.value)});function b(x){o.open.value||o.onOpenChange(!0)}function g(x){const $=x.target;o.open.value?o.filterState.search=$.value:(o.onOpenChange(!0),ve(()=>{$.value&&(o.filterState.search=$.value,n.highlightFirstItem(x))}))}function h(){const x=o.modelValue.value;e.displayValue?u.value=e.displayValue(x):!o.multiple.value&&x&&!Array.isArray(x)&&typeof x!="object"?u.value=x.toString():u.value="",ve(()=>{u.value=u.value})}return o.onResetSearchTerm(()=>{h()}),ke(o.modelValue,async()=>{!o.isUserInputted.value&&o.resetSearchTermOnSelect.value&&h()},{immediate:!0,deep:!0}),(x,$)=>(d(),v(t(za),{ref_key:"primitiveElement",ref:r,modelValue:t(u),"onUpdate:modelValue":$[0]||($[0]=C=>st(u)?u.value=C:null),as:x.as,"as-child":x.asChild,"auto-focus":x.autoFocus,"aria-expanded":t(o).open.value,"aria-controls":t(o).contentId,"aria-autocomplete":"list",role:"combobox",autocomplete:"false",onInput:g,onKeydown:qe(Le(b,["prevent"]),["down","up"])},{default:p(()=>[I(x.$slots,"default")]),_:3},8,["modelValue","as","as-child","auto-focus","aria-expanded","aria-controls","onKeydown"]))}}),$a=M({__name:"ComboboxAnchor",props:{reference:{},asChild:{type:Boolean},as:{}},setup(s){const{forwardRef:i}=ie();return(e,a)=>(d(),v(t(Tt),{"as-child":"",reference:e.reference},{default:p(()=>[_(t(G),F({ref:t(i),"as-child":e.asChild,as:e.as},e.$attrs),{default:p(()=>[I(e.$slots,"default")]),_:3},16,["as-child","as"])]),_:3},8,["reference"]))}}),ka=M({__name:"ComboboxEmpty",props:{asChild:{type:Boolean},as:{}},setup(s){const i=s,e=be(),a=c(()=>e.ignoreFilter.value?e.allItems.value.size===0:!!e.filterState.search&&e.filterState.filtered.count===0);return(o,n)=>a.value?(d(),v(t(G),Te(F({key:0},i)),{default:p(()=>[I(o.$slots,"default",{},()=>[n[0]||(n[0]=pe("No options"))])]),_:3},16)):T("",!0)}}),Ba=M({__name:"ComboboxTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"button"}},setup(s){const i=s,{forwardRef:e,currentElement:a}=ie(),o=be(),n=c(()=>i.disabled||o.disabled.value||!1);return he(()=>{a.value&&o.onTriggerElementChange(a.value)}),(r,l)=>(d(),v(t(G),F(i,{ref:t(e),type:r.as==="button"?"button":void 0,tabindex:"-1","aria-label":"Show popup","aria-haspopup":"listbox","aria-expanded":t(o).open.value,"aria-controls":t(o).contentId,"data-state":t(o).open.value?"open":"closed",disabled:n.value,"data-disabled":n.value?"":void 0,"aria-disabled":n.value??void 0,onClick:l[0]||(l[0]=u=>t(o).onOpenChange(!t(o).open.value))}),{default:p(()=>[I(r.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","disabled","data-disabled","aria-disabled"]))}}),[ns,Ea]=Ae("ListboxGroup"),Aa=M({__name:"ListboxGroup",props:{asChild:{type:Boolean},as:{}},setup(s){const i=s,e=Oe(void 0,"reka-listbox-group");return Ea({id:e}),(a,o)=>(d(),v(t(G),F({role:"group"},i,{"aria-labelledby":t(e)}),{default:p(()=>[I(a.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),[Vt,Va]=Ae("ComboboxGroup"),Ct=M({__name:"ComboboxGroup",props:{asChild:{type:Boolean},as:{}},setup(s){const i=s,e=Oe(void 0,"reka-combobox-group"),a=be(),o=c(()=>a.ignoreFilter.value?!0:a.filterState.search?a.filterState.filtered.groups.has(e):!0),n=Va({id:e,labelId:""});return he(()=>{a.allGroups.value.has(e)||a.allGroups.value.set(e,new Set)}),Ye(()=>{a.allGroups.value.delete(e)}),(r,l)=>(d(),v(t(Aa),F({id:t(e),"aria-labelledby":t(n).labelId},i,{hidden:o.value?void 0:!0}),{default:p(()=>[I(r.$slots,"default")]),_:3},16,["id","aria-labelledby","hidden"]))}}),qa=M({__name:"ComboboxLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(s){const i=s;ie();const e=Vt({id:"",labelId:""});return e.labelId||(e.labelId=Oe(void 0,"reka-combobox-group-label")),(a,o)=>(d(),v(t(G),F(i,{id:t(e).labelId}),{default:p(()=>[I(a.$slots,"default")]),_:3},16,["id"]))}}),La=M({__name:"ListboxContent",props:{asChild:{type:Boolean},as:{}},setup(s){const{CollectionSlot:i}=nt(),e=Qe(),a=Ht(!1,10);return(o,n)=>(d(),v(t(i),null,{default:p(()=>[_(t(G),{role:"listbox",as:o.as,"as-child":o.asChild,tabindex:t(e).focusable.value?t(e).highlightedElement.value?"-1":"0":void 0,"aria-orientation":t(e).orientation.value,"aria-multiselectable":!!t(e).multiple.value,"data-orientation":t(e).orientation.value,onMousedown:n[0]||(n[0]=Le(r=>a.value=!0,["left"])),onFocus:n[1]||(n[1]=r=>{t(a)||t(e).onEnter(r)}),onKeydown:[n[2]||(n[2]=qe(Le(r=>{t(e).focusable.value&&t(e).onKeydownNavigation(r)},["prevent"]),["down","up","left","right","home","end"])),qe(t(e).onKeydownEnter,["enter"]),t(e).onKeydownTypeAhead]},{default:p(()=>[I(o.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),[Fa,Ta]=Ae("ComboboxContent"),Oa=M({__name:"ComboboxContentImpl",props:{position:{default:"inline"},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(s,{emit:i}){const e=s,a=i,{position:o}=Xe(e),n=be(),{forwardRef:r,currentElement:l}=ie();Wt(e.bodyLock),Xt(n.parentElement);const u=c(()=>e.position==="popper"?e:{}),b=Yt(u.value),g={boxSizing:"border-box","--reka-combobox-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-combobox-content-available-width":"var(--reka-popper-available-width)","--reka-combobox-content-available-height":"var(--reka-popper-available-height)","--reka-combobox-trigger-width":"var(--reka-popper-anchor-width)","--reka-combobox-trigger-height":"var(--reka-popper-anchor-height)"};Ta({position:o});const h=W(!1);return he(()=>{n.inputElement.value&&(h.value=l.value.contains(n.inputElement.value),h.value&&n.inputElement.value.focus())}),Ye(()=>{var x;h.value&&((x=n.triggerElement.value)==null||x.focus())}),(x,$)=>(d(),v(t(La),{"as-child":""},{default:p(()=>[_(t(Jt),{"as-child":"","disable-outside-pointer-events":x.disableOutsidePointerEvents,onDismiss:$[0]||($[0]=C=>t(n).onOpenChange(!1)),onFocusOutside:$[1]||($[1]=C=>{var D;(D=t(n).parentElement.value)!=null&&D.contains(C.target)&&C.preventDefault(),a("focusOutside",C)}),onInteractOutside:$[2]||($[2]=C=>a("interactOutside",C)),onEscapeKeyDown:$[3]||($[3]=C=>a("escapeKeyDown",C)),onPointerDownOutside:$[4]||($[4]=C=>{var D;(D=t(n).parentElement.value)!=null&&D.contains(C.target)&&C.preventDefault(),a("pointerDownOutside",C)})},{default:p(()=>[(d(),v(Qt(t(o)==="popper"?t(Ot):t(G)),F({...x.$attrs,...t(b)},{id:t(n).contentId,ref:t(r),"data-state":t(n).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",...t(o)==="popper"?g:{}}}),{default:p(()=>[I(x.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])]),_:3}))}}),Pa=M({__name:"ComboboxContent",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(s,{emit:i}){const o=it(s,i),{forwardRef:n}=ie(),r=be();return r.contentId||(r.contentId=Oe(void 0,"reka-combobox-content")),(l,u)=>(d(),v(t(Zt),{present:l.forceMount||t(r).open.value},{default:p(()=>[_(Oa,F({...t(o),...l.$attrs},{ref:t(n)}),{default:p(()=>[I(l.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}});function Ka(s){const i=ea({nonce:W()});return c(()=>{var e;return(s==null?void 0:s.value)||((e=i.nonce)==null?void 0:e.value)})}const Ra=M({__name:"ComboboxViewport",props:{nonce:{},asChild:{type:Boolean},as:{}},setup(s){const i=s,{forwardRef:e}=ie(),{nonce:a}=Xe(i),o=Ka(a),n=be();return(r,l)=>(d(),L(ce,null,[_(t(G),F({...r.$attrs,...i},{ref:t(e),"data-reka-combobox-viewport":"",role:"presentation",style:{position:"relative",flex:t(n).isVirtual.value?void 0:1,overflow:"auto"}}),{default:p(()=>[I(r.$slots,"default")]),_:3},16,["style"]),_(t(G),{as:"style",nonce:t(o)},{default:p(()=>l[0]||(l[0]=[pe(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-combobox-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-combobox-viewport]::-webkit-scrollbar { display: none; } ")])),_:1},8,["nonce"])],64))}}),Ma="listbox.select",[Da,Na]=Ae("ListboxItem"),Ua=M({__name:"ListboxItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"div"}},emits:["select"],setup(s,{emit:i}){const e=s,a=i,o=Oe(void 0,"reka-listbox-item"),{CollectionItem:n}=nt(),{forwardRef:r,currentElement:l}=ie(),u=Qe(),b=c(()=>l.value===u.highlightedElement.value),g=c(()=>ya(u.modelValue.value,e.value,u.by)),h=c(()=>u.disabled.value||e.disabled);async function x(C){a("select",C),!(C!=null&&C.defaultPrevented)&&!h.value&&C&&(u.onValueChange(e.value),u.changeHighlight(l.value))}function $(C){const D={originalEvent:C,value:e.value};aa(Ma,x,D)}return Na({isSelected:g}),(C,D)=>(d(),v(t(n),{value:C.value},{default:p(()=>[ta([b.value,g.value],()=>_(t(G),F({id:t(o)},C.$attrs,{ref:t(r),role:"option",tabindex:t(u).focusable.value?b.value?"0":"-1":-1,"aria-selected":g.value,as:C.as,"as-child":C.asChild,disabled:h.value?"":void 0,"data-disabled":h.value?"":void 0,"data-highlighted":b.value?"":void 0,"data-state":g.value?"checked":"unchecked",onClick:$,onKeydown:qe(Le($,["prevent"]),["space"]),onPointermove:D[0]||(D[0]=Q=>{t(u).highlightedElement.value!==t(l)&&(t(u).highlightOnHover.value?t(u).changeHighlight(t(l),!1):t(u).focusable.value||t(u).changeHighlight(t(l),!1))})}),{default:p(()=>[I(C.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),D,1)]),_:3},8,["value"]))}}),wt=M({__name:"ComboboxItem",props:{textValue:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["select"],setup(s,{emit:i}){const e=s,a=i,o=Oe(void 0,"reka-combobox-item"),n=be(),r=Vt(null),{primitiveElement:l,currentElement:u}=Fe();if(e.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");const b=c(()=>{if(n.isVirtual.value||n.ignoreFilter.value||!n.filterState.search)return!0;{const g=n.filterState.filtered.items.get(o);return g===void 0?!0:g>0}});return he(()=>{var h;n.allItems.value.set(o,e.textValue||u.value.textContent||u.value.innerText);const g=r==null?void 0:r.id;g&&(n.allGroups.value.has(g)?(h=n.allGroups.value.get(g))==null||h.add(o):n.allGroups.value.set(g,new Set([o])))}),Ye(()=>{n.allItems.value.delete(o)}),(g,h)=>b.value?(d(),v(t(Ua),F({key:0},e,{id:t(o),ref_key:"primitiveElement",ref:l,onSelect:h[0]||(h[0]=x=>{a("select",x),!x.defaultPrevented&&(t(n).multiple.value||(x.preventDefault(),t(n).onOpenChange(!1),t(n).modelValue.value=e.value))})}),{default:p(()=>[I(g.$slots,"default",{},()=>[pe(N(g.value),1)])]),_:3},16,["id"])):T("",!0)}}),ja=M({__name:"ListboxItemIndicator",props:{asChild:{type:Boolean},as:{default:"span"}},setup(s){const i=s;ie();const e=Da();return(a,o)=>t(e).isSelected.value?(d(),v(t(G),F({key:0,"aria-hidden":"true"},i),{default:p(()=>[I(a.$slots,"default")]),_:3},16)):T("",!0)}}),Ga=M({__name:"ComboboxItemIndicator",props:{asChild:{type:Boolean},as:{default:"span"}},setup(s){const i=s;return(e,a)=>(d(),v(t(ja),Te(Je(i)),{default:p(()=>[I(e.$slots,"default")]),_:3},16))}}),Ha=M({__name:"ComboboxSeparator",props:{asChild:{type:Boolean},as:{}},setup(s){const i=s;return ie(),(e,a)=>(d(),v(t(G),F(i,{"aria-hidden":"true"}),{default:p(()=>[I(e.$slots,"default")]),_:3},16))}}),Wa=M({__name:"ComboboxArrow",props:{width:{default:10},height:{default:5},rounded:{type:Boolean},asChild:{type:Boolean},as:{default:"svg"}},setup(s){const i=s,e=be(),a=Fa();return ie(),(o,n)=>t(e).open.value&&t(a).position.value==="popper"?(d(),v(t(Pt),Te(F({key:0},i)),{default:p(()=>[I(o.$slots,"default")]),_:3},16)):T("",!0)}}),Xa=M({__name:"ComboboxPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(s){const i=s;return(e,a)=>(d(),v(t(na),Te(Je(i)),{default:p(()=>[I(e.$slots,"default")]),_:3},16))}}),je=100,[Ya,Ja]=Ae("ProgressRoot"),rt=s=>typeof s=="number";function Qa(s,i){return Et(s)||rt(s)&&!Number.isNaN(s)&&s<=i&&s>=0?s:(console.error(`Invalid prop \`value\` of value \`${s}\` supplied to \`ProgressRoot\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${je} if no \`max\` prop is set)
  - \`null\`  or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`),null)}function Za(s){return rt(s)&&!Number.isNaN(s)&&s>0?s:(console.error(`Invalid prop \`max\` of value \`${s}\` supplied to \`ProgressRoot\`. Only numbers greater than 0 are valid max values. Defaulting to \`${je}\`.`),je)}const en=M({__name:"ProgressRoot",props:{modelValue:{},max:{default:je},getValueLabel:{type:Function,default:(s,i)=>`${Math.round(s/i*je)}%`},asChild:{type:Boolean},as:{}},emits:["update:modelValue","update:max"],setup(s,{emit:i}){const e=s,a=i;ie();const o=Be(e,"modelValue",a,{passive:e.modelValue===void 0}),n=Be(e,"max",a,{passive:e.max===void 0});ke(()=>o.value,async l=>{const u=Qa(l,e.max);u!==l&&(await ve(),o.value=u)},{immediate:!0}),ke(()=>e.max,l=>{const u=Za(e.max);u!==l&&(n.value=u)},{immediate:!0});const r=c(()=>Et(o.value)?"indeterminate":o.value===n.value?"complete":"loading");return Ja({modelValue:o,max:n,progressState:r}),(l,u)=>(d(),v(t(G),{"as-child":l.asChild,as:l.as,"aria-valuemax":t(n),"aria-valuemin":0,"aria-valuenow":rt(t(o))?t(o):void 0,"aria-valuetext":l.getValueLabel(t(o),t(n)),"aria-label":l.getValueLabel(t(o),t(n)),role:"progressbar","data-state":r.value,"data-value":t(o)??void 0,"data-max":t(n)},{default:p(()=>[I(l.$slots,"default",{modelValue:t(o)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"]))}}),tn=M({__name:"ProgressIndicator",props:{asChild:{type:Boolean},as:{}},setup(s){const i=s,e=Ya();return ie(),(a,o)=>{var n;return d(),v(t(G),F(i,{"data-state":t(e).progressState.value,"data-value":((n=t(e).modelValue)==null?void 0:n.value)??void 0,"data-max":t(e).max.value}),{default:p(()=>[I(a.$slots,"default")]),_:3},16,["data-state","data-value","data-max"])}}}),an={key:0,class:"opacity-75"},nn={__name:"ElemCountPage",props:["id"],setup(s){const i=s,e=ae(),a=c(()=>e.elems.find(n=>n.id==i.id)),o=c(()=>!a.value.max||a.value.count<a.value.max?"neutral":"error");return(n,r)=>{const l=Kt;return d(),v(l,{variant:"subtle",color:t(o),class:"text-nowrap"},{default:p(()=>[q("span",{class:E({"opacity-50":t(a).count<=0})},N(t(a).count.toLocaleString()),3),t(a).max!=null&&t(a).max!=1/0?(d(),L("span",an,"/ "+N(t(a).max.toLocaleString()),1)):T("",!0)]),_:1},8,["color"])}}},sn={slots:{root:"relative inline-flex items-center justify-center shrink-0",base:"rounded-full ring ring-bg flex items-center justify-center text-inverted font-medium whitespace-nowrap"},variants:{color:{primary:"bg-primary",secondary:"bg-secondary",success:"bg-success",info:"bg-info",warning:"bg-warning",error:"bg-error",neutral:"bg-inverted"},size:{"3xs":"h-[4px] min-w-[4px] text-[4px]","2xs":"h-[5px] min-w-[5px] text-[5px]",xs:"h-[6px] min-w-[6px] text-[6px]",sm:"h-[7px] min-w-[7px] text-[7px]",md:"h-[8px] min-w-[8px] text-[8px]",lg:"h-[9px] min-w-[9px] text-[9px]",xl:"h-[10px] min-w-[10px] text-[10px]","2xl":"h-[11px] min-w-[11px] text-[11px]","3xl":"h-[12px] min-w-[12px] text-[12px]"},position:{"top-right":"top-0 right-0","bottom-right":"bottom-0 right-0","top-left":"top-0 left-0","bottom-left":"bottom-0 left-0"},inset:{false:""},standalone:{false:"absolute"}},compoundVariants:[{position:"top-right",inset:!1,class:"-translate-y-1/2 translate-x-1/2 transform"},{position:"bottom-right",inset:!1,class:"translate-y-1/2 translate-x-1/2 transform"},{position:"top-left",inset:!1,class:"-translate-y-1/2 -translate-x-1/2 transform"},{position:"bottom-left",inset:!1,class:"translate-y-1/2 -translate-x-1/2 transform"}],defaultVariants:{size:"md",color:"primary",position:"top-right"}},Ze=Object.assign({inheritAttrs:!1},{__name:"Chip",props:Ue({as:{type:null,required:!1},text:{type:[String,Number],required:!1},color:{type:null,required:!1},size:{type:null,required:!1},position:{type:null,required:!1},inset:{type:Boolean,required:!1,default:!1},standalone:{type:Boolean,required:!1,default:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},{show:{type:Boolean,default:!0},showModifiers:{}}),emits:["update:show"],setup(s){const i=s,e=ot(s,"show",{type:Boolean,default:!0}),{size:a}=sa(i),o=Ge(),n=c(()=>{var r;return me({extend:me(sn),...((r=o.ui)==null?void 0:r.chip)||{}})({color:i.color,size:a.value,position:i.position,inset:i.inset,standalone:i.standalone})});return(r,l)=>{var u;return d(),v(t(G),{as:s.as,class:E(n.value.root({class:[i.class,(u=i.ui)==null?void 0:u.root]}))},{default:p(()=>{var b;return[_(t(ia),Te(Je(r.$attrs)),{default:p(()=>[I(r.$slots,"default")]),_:3},16),e.value?(d(),L("span",{key:0,class:E(n.value.base({class:(b=i.ui)==null?void 0:b.base}))},[I(r.$slots,"content",{},()=>[pe(N(s.text),1)])],2)):T("",!0)]}),_:3},8,["as","class"])}}}),on={__name:"BtnAssignee",props:["id"],setup(s){const i=s,e=ae(),a=c(()=>e.elems.find(n=>n.id==i.id)),o=c(()=>a.value.availableCount>0?"success":"error");return(n,r)=>{const l=Ve,u=Ze,b=Ee;return d(),v(b,{text:n.$t(t(a).label),"delay-duration":0},{default:p(()=>[_(u,{size:"3xl",color:t(o),position:"bottom-left",text:t(a).availableCount.toLocaleString()},{default:p(()=>[_(l,{avatar:{src:t(a).img},color:t(o),variant:"subtle",to:"/item/"+t(a).id},null,8,["avatar","color","to"])]),_:1},8,["color","text"])]),_:1},8,["text"])}}},ln={__name:"BtnUnassign",props:["id"],setup(s){const i=s,e=ae(),a=c(()=>e.elems.find(r=>r.id==i.id)),o=c(()=>{if(a.value.status&&a.value.status!="stopped"||a.value.assignCount<=0)return!1;if(a.value.type=="storage"){let r=e.elems.find(l=>l.id==a.value.itemId);if(r.count>r.max-a.value.stack*a.value.selectCount)return!1}return!0});function n(){o.value&&(a.value.assignCount-=a.value.selectCount,e.onUnassign(a.value,a.value.selectCount))}return(r,l)=>{const u=Ve,b=Ee;return d(),v(b,{text:r.$t("word_unassign"),"delay-duration":0},{default:p(()=>[_(u,{icon:"i-lucide-minus-circle",color:"error",variant:"subtle",disabled:!t(o),onClick:l[0]||(l[0]=g=>n())},null,8,["disabled"])]),_:1},8,["text"])}}},rn={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed"},variants:{buttonGroup:{horizontal:{root:"group",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},un=["id","type","value","name","placeholder","disabled","required","autocomplete"],dn=Object.assign({inheritAttrs:!1},{__name:"Input",props:Ue({as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},type:{type:null,required:!1,default:"text"},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autocomplete:{type:null,required:!1,default:"off"},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:String,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:String,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},{modelValue:{type:[String,Number,null]},modelModifiers:{}}),emits:Ue(["update:modelValue","blur","change"],["update:modelValue"]),setup(s,{expose:i,emit:e}){const a=s,o=e,n=lt(),[r,l]=ot(s,"modelValue"),u=Ge(),{emitFormBlur:b,emitFormInput:g,emitFormChange:h,size:x,color:$,id:C,name:D,highlight:Q,disabled:oe,emitFormFocus:H,ariaAttrs:A}=zt(a,{deferInputValidation:!0}),{orientation:le,size:K}=St(a),{isLeading:Y,isTrailing:P,leadingIconName:Z,trailingIconName:V}=$t(a),X=c(()=>K.value||x.value),R=c(()=>{var f;return me({extend:me(rn),...((f=u.ui)==null?void 0:f.input)||{}})({type:a.type,color:$.value,variant:a.variant,size:X==null?void 0:X.value,loading:a.loading,highlight:Q.value,leading:Y.value||!!a.avatar||!!n.leading,trailing:P.value||!!n.trailing,buttonGroup:le.value})}),ee=W(null);function re(f){l.trim&&(f=(f==null?void 0:f.trim())??null),(l.number||a.type==="number")&&(f=oa(f)),l.nullify&&(f||(f=null)),r.value=f,g()}function ue(f){l.lazy||re(f.target.value)}function S(f){const fe=f.target.value;l.lazy&&re(fe),l.trim&&(f.target.value=fe.trim()),h(),o("change",f)}function U(f){b(),o("blur",f)}function j(){var f;a.autofocus&&((f=ee.value)==null||f.focus())}return he(()=>{setTimeout(()=>{j()},a.autofocusDelay)}),i({inputRef:ee}),(f,fe)=>{var ye;return d(),v(t(G),{as:s.as,class:E(R.value.root({class:[a.class,(ye=a.ui)==null?void 0:ye.root]}))},{default:p(()=>{var _e,ge,Ce;return[q("input",F({id:t(C),ref_key:"inputRef",ref:ee,type:s.type,value:t(r),name:t(D),placeholder:s.placeholder,class:R.value.base({class:(_e=a.ui)==null?void 0:_e.base}),disabled:t(oe),required:s.required,autocomplete:s.autocomplete},{...f.$attrs,...t(A)},{onInput:ue,onBlur:U,onChange:S,onFocus:fe[0]||(fe[0]=(...te)=>t(H)&&t(H)(...te))}),null,16,un),I(f.$slots,"default"),t(Y)||s.avatar||n.leading?(d(),L("span",{key:0,class:E(R.value.leading({class:(ge=a.ui)==null?void 0:ge.leading}))},[I(f.$slots,"leading",{},()=>{var te,we,Ie;return[t(Y)&&t(Z)?(d(),v(Se,{key:0,name:t(Z),class:E(R.value.leadingIcon({class:(te=a.ui)==null?void 0:te.leadingIcon}))},null,8,["name","class"])):s.avatar?(d(),v(at,F({key:1,size:((we=a.ui)==null?void 0:we.leadingAvatarSize)||R.value.leadingAvatarSize()},s.avatar,{class:R.value.leadingAvatar({class:(Ie=a.ui)==null?void 0:Ie.leadingAvatar})}),null,16,["size","class"])):T("",!0)]})],2)):T("",!0),t(P)||n.trailing?(d(),L("span",{key:1,class:E(R.value.trailing({class:(Ce=a.ui)==null?void 0:Ce.trailing}))},[I(f.$slots,"trailing",{},()=>{var te;return[t(V)?(d(),v(Se,{key:0,name:t(V),class:E(R.value.trailingIcon({class:(te=a.ui)==null?void 0:te.trailingIcon}))},null,8,["name","class"])):T("",!0)]})],2)):T("",!0)]}),_:3},8,["as","class"])}}}),cn={slots:{base:["relative group rounded-md inline-flex items-center focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed",value:"truncate pointer-events-none",placeholder:"truncate text-dimmed",arrow:"fill-default",content:["max-h-60 w-(--reka-select-trigger-width) bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-select-content-transform-origin) pointer-events-auto","origin-(--reka-combobox-content-transform-origin) w-(--reka-combobox-trigger-width)"],viewport:"divide-y divide-default scroll-py-1",group:"p-1 isolate",empty:"py-2 text-center text-sm text-muted",label:"font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:["group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75 text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemLabel:"truncate",input:"border-b border-default",focusScope:"flex flex-col min-h-0"},variants:{buttonGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none"},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},pn=Object.assign({inheritAttrs:!1},{__name:"SelectMenu",props:Ue({id:{type:String,required:!1},placeholder:{type:String,required:!1},searchInput:{type:[Boolean,Object],required:!1,default:!0},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},trailingIcon:{type:String,required:!1},selectedIcon:{type:String,required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},valueKey:{type:null,required:!1},labelKey:{type:null,required:!1,default:"label"},items:{type:null,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},createItem:{type:[Boolean,String,Object],required:!1},filterFields:{type:Array,required:!1},ignoreFilter:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},highlightOnHover:{type:Boolean,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:String,required:!1},trailing:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:Ue(["update:open","change","blur","focus","create","highlight","update:modelValue"],["update:searchTerm"]),setup(s,{emit:i}){const e=s,a=i,o=lt(),n=ot(s,"searchTerm",{type:String,default:""}),{t:r}=kt(),l=Ge(),{contains:u}=At({sensitivity:"base"}),b=it(Bt(e,"modelValue","defaultValue","open","defaultOpen","required","multiple","resetSearchTermOnBlur","resetSearchTermOnSelect","highlightOnHover"),a),g=la(De(()=>e.portal)),h=De(()=>et(e.content,{side:"bottom",sideOffset:8,collisionPadding:8,position:"popper"})),x=De(()=>e.arrow),$=De(()=>et(e.searchInput,{placeholder:r("selectMenu.search"),variant:"none"})),{emitFormBlur:C,emitFormFocus:D,emitFormInput:Q,emitFormChange:oe,size:H,color:A,id:le,name:K,highlight:Y,disabled:P,ariaAttrs:Z}=zt(e),{orientation:V,size:X}=St(e),{isLeading:R,isTrailing:ee,leadingIconName:re,trailingIconName:ue}=$t(De(()=>et(e,{trailingIcon:l.ui.icons.chevronDown}))),S=c(()=>X.value||H.value),[U,j]=Rt(),f=c(()=>{var m;return me({extend:me(cn),...((m=l.ui)==null?void 0:m.selectMenu)||{}})({color:A.value,variant:e.variant,size:S==null?void 0:S.value,loading:e.loading,highlight:Y.value,leading:R.value||!!e.avatar||!!o.leading,trailing:ee.value||!!o.trailing,buttonGroup:V.value})});function fe(m){if(e.multiple&&Array.isArray(m))return m.map(B=>fe(B)).filter(Boolean).join(", ");if(!e.valueKey)return m&&(typeof m=="object"?ze(m,e.labelKey):m);const k=_e.value.find(B=>yt(typeof B=="object"?ze(B,e.valueKey):B,m));return k&&(typeof k=="object"?ze(k,e.labelKey):k)}const ye=c(()=>{var m;return(m=e.items)!=null&&m.length?ra(e.items)?e.items:[e.items]:[]}),_e=c(()=>ye.value.flatMap(m=>m)),ge=c(()=>{if(e.ignoreFilter||!n.value)return ye.value;const m=Array.isArray(e.filterFields)?e.filterFields:[e.labelKey];return ye.value.map(k=>k.filter(B=>typeof B!="object"||B===null?u(String(B),n.value):B.type&&["label","separator"].includes(B.type)?!0:m.some(de=>u(ze(B,de),n.value)))).filter(k=>k.filter(B=>!w(B)||!B.type||!["label","separator"].includes(B.type)).length>0)}),Ce=c(()=>ge.value.flatMap(m=>m)),te=c(()=>{if(!e.createItem||!n.value)return!1;const m=e.valueKey?{[e.valueKey]:n.value}:n.value;return typeof e.createItem=="object"&&e.createItem.when==="always"||e.createItem==="always"?!Ce.value.find(k=>yt(k,m,e.valueKey)):!Ce.value.length}),we=c(()=>typeof e.createItem=="object"?e.createItem.position:"bottom");function Ie(m){if(da(e.modelValue)===m)return;const k=new Event("change",{target:{value:m}});a("change",k),oe(),Q(),e.resetSearchTermOnSelect&&(n.value="")}function y(m){let k;if(m){const B=new FocusEvent("focus");a("focus",B),D(),clearTimeout(k)}else{const B=new FocusEvent("blur");a("blur",B),C(),e.resetSearchTermOnBlur&&(k=setTimeout(()=>{n.value=""},100))}}function z(m,k){var B;if(w(k)){if(k.disabled){m.preventDefault();return}(B=k.onSelect)==null||B.call(k,m)}}function w(m){return typeof m=="object"&&m!==null}return(m,k)=>(d(),L(ce,null,[_(t(U),null,{default:p(()=>{var B;return[_(t(Ct),{class:E(f.value.group({class:(B=e.ui)==null?void 0:B.group}))},{default:p(()=>{var de;return[_(t(wt),{class:E(f.value.item({class:(de=e.ui)==null?void 0:de.item})),value:n.value,onSelect:k[0]||(k[0]=Le(J=>a("create",n.value),["prevent"]))},{default:p(()=>{var J;return[q("span",{class:E(f.value.itemLabel({class:(J=e.ui)==null?void 0:J.itemLabel}))},[I(m.$slots,"create-item-label",{item:n.value},()=>[pe(N(t(r)("selectMenu.create",{label:n.value})),1)])],2)]}),_:3},8,["class","value"])]}),_:3},8,["class"])]}),_:3}),_(t(Ia),F({id:t(le)},{...t(b),...m.$attrs,...t(Z)},{"ignore-filter":"","as-child":"",name:t(K),disabled:t(P),"onUpdate:modelValue":Ie,"onUpdate:open":y}),{default:p(({modelValue:B,open:de})=>[_(t($a),{"as-child":""},{default:p(()=>{var J;return[_(t(Ba),{class:E(f.value.base({class:[e.class,(J=e.ui)==null?void 0:J.base]})),tabindex:"0"},{default:p(()=>{var Pe,Ke;return[t(R)||s.avatar||o.leading?(d(),L("span",{key:0,class:E(f.value.leading({class:(Pe=e.ui)==null?void 0:Pe.leading}))},[I(m.$slots,"leading",{modelValue:B,open:de,ui:f.value},()=>{var ne,xe,se;return[t(R)&&t(re)?(d(),v(Se,{key:0,name:t(re),class:E(f.value.leadingIcon({class:(ne=e.ui)==null?void 0:ne.leadingIcon}))},null,8,["name","class"])):s.avatar?(d(),v(at,F({key:1,size:((xe=e.ui)==null?void 0:xe.itemLeadingAvatarSize)||f.value.itemLeadingAvatarSize()},s.avatar,{class:f.value.itemLeadingAvatar({class:(se=e.ui)==null?void 0:se.itemLeadingAvatar})}),null,16,["size","class"])):T("",!0)]})],2)):T("",!0),I(m.$slots,"default",{modelValue:B,open:de},()=>[(d(!0),L(ce,null,$e([fe(B)],ne=>{var xe,se;return d(),L(ce,{key:ne},[ne?(d(),L("span",{key:0,class:E(f.value.value({class:(xe=e.ui)==null?void 0:xe.value}))},N(ne),3)):(d(),L("span",{key:1,class:E(f.value.placeholder({class:(se=e.ui)==null?void 0:se.placeholder}))},N(s.placeholder??""),3))],64)}),128))]),t(ee)||o.trailing?(d(),L("span",{key:1,class:E(f.value.trailing({class:(Ke=e.ui)==null?void 0:Ke.trailing}))},[I(m.$slots,"trailing",{modelValue:B,open:de,ui:f.value},()=>{var ne;return[t(ue)?(d(),v(Se,{key:0,name:t(ue),class:E(f.value.trailingIcon({class:(ne=e.ui)==null?void 0:ne.trailingIcon}))},null,8,["name","class"])):T("",!0)]})],2)):T("",!0)]}),_:2},1032,["class"])]}),_:2},1024),_(t(Xa),Te(Je(t(g))),{default:p(()=>{var J;return[_(t(Pa),F({class:f.value.content({class:(J=e.ui)==null?void 0:J.content})},h.value),{default:p(()=>{var Pe,Ke;return[_(t(ua),{trapped:"",class:E(f.value.focusScope({class:(Pe=e.ui)==null?void 0:Pe.focusScope}))},{default:p(()=>{var ne,xe;return[I(m.$slots,"content-top"),s.searchInput?(d(),v(t(Sa),{key:0,modelValue:n.value,"onUpdate:modelValue":k[1]||(k[1]=se=>n.value=se),"display-value":()=>n.value,"as-child":""},{default:p(()=>{var se;return[_(dn,F({autofocus:"",autocomplete:"off"},$.value,{class:f.value.input({class:(se=e.ui)==null?void 0:se.input})}),null,16,["class"])]}),_:1},8,["modelValue","display-value"])):T("",!0),_(t(ka),{class:E(f.value.empty({class:(ne=e.ui)==null?void 0:ne.empty}))},{default:p(()=>[I(m.$slots,"empty",{searchTerm:n.value},()=>[pe(N(n.value?t(r)("selectMenu.noMatch",{searchTerm:n.value}):t(r)("selectMenu.noData")),1)])]),_:3},8,["class"]),_(t(Ra),{class:E(f.value.viewport({class:(xe=e.ui)==null?void 0:xe.viewport}))},{default:p(()=>[te.value&&we.value==="top"?(d(),v(t(j),{key:0})):T("",!0),(d(!0),L(ce,null,$e(ge.value,(se,ut)=>{var dt;return d(),v(t(Ct),{key:`group-${ut}`,class:E(f.value.group({class:(dt=e.ui)==null?void 0:dt.group}))},{default:p(()=>[(d(!0),L(ce,null,$e(se,(O,Re)=>{var ct,pt,ft;return d(),L(ce,{key:`group-${ut}-${Re}`},[w(O)&&O.type==="label"?(d(),v(t(qa),{key:0,class:E(f.value.label({class:(ct=e.ui)==null?void 0:ct.label}))},{default:p(()=>[pe(N(t(ze)(O,e.labelKey)),1)]),_:2},1032,["class"])):w(O)&&O.type==="separator"?(d(),v(t(Ha),{key:1,class:E(f.value.separator({class:(pt=e.ui)==null?void 0:pt.separator}))},null,8,["class"])):(d(),v(t(wt),{key:2,class:E(f.value.item({class:(ft=e.ui)==null?void 0:ft.item})),disabled:w(O)&&O.disabled,value:e.valueKey&&w(O)?t(ze)(O,e.valueKey):O,onSelect:He=>z(He,O)},{default:p(()=>[I(m.$slots,"item",{item:O,index:Re},()=>{var He,mt;return[I(m.$slots,"item-leading",{item:O,index:Re},()=>{var Me,gt,vt,ht,bt;return[w(O)&&O.icon?(d(),v(Se,{key:0,name:O.icon,class:E(f.value.itemLeadingIcon({class:(Me=e.ui)==null?void 0:Me.itemLeadingIcon}))},null,8,["name","class"])):w(O)&&O.avatar?(d(),v(at,F({key:1,size:((gt=e.ui)==null?void 0:gt.itemLeadingAvatarSize)||f.value.itemLeadingAvatarSize(),ref_for:!0},O.avatar,{class:f.value.itemLeadingAvatar({class:(vt=e.ui)==null?void 0:vt.itemLeadingAvatar})}),null,16,["size","class"])):w(O)&&O.chip?(d(),v(Ze,F({key:2,size:((ht=e.ui)==null?void 0:ht.itemLeadingChipSize)||f.value.itemLeadingChipSize(),inset:"",standalone:"",ref_for:!0},O.chip,{class:f.value.itemLeadingChip({class:(bt=e.ui)==null?void 0:bt.itemLeadingChip})}),null,16,["size","class"])):T("",!0)]}),q("span",{class:E(f.value.itemLabel({class:(He=e.ui)==null?void 0:He.itemLabel}))},[I(m.$slots,"item-label",{item:O,index:Re},()=>[pe(N(w(O)?t(ze)(O,e.labelKey):O),1)])],2),q("span",{class:E(f.value.itemTrailing({class:(mt=e.ui)==null?void 0:mt.itemTrailing}))},[I(m.$slots,"item-trailing",{item:O,index:Re}),_(t(Ga),{"as-child":""},{default:p(()=>{var Me;return[_(Se,{name:s.selectedIcon||t(l).ui.icons.check,class:E(f.value.itemTrailingIcon({class:(Me=e.ui)==null?void 0:Me.itemTrailingIcon}))},null,8,["name","class"])]}),_:1})],2)]})]),_:2},1032,["class","disabled","value","onSelect"]))],64)}),128))]),_:2},1032,["class"])}),128)),te.value&&we.value==="bottom"?(d(),v(t(j),{key:1})):T("",!0)]),_:3},8,["class"]),I(m.$slots,"content-bottom")]}),_:3},8,["class"]),s.arrow?(d(),v(t(Wa),F({key:0},x.value,{class:f.value.arrow({class:(Ke=e.ui)==null?void 0:Ke.arrow})}),null,16,["class"])):T("",!0)]}),_:3},16,["class"])]}),_:3},16)]),_:3},16,["id","name","disabled"])],64))}}),fn={__name:"BtnSelect",props:["id"],setup(s){const i=s,e=ae(),a=c(()=>e.elems.find(n=>n.id==i.id)),o=c(()=>{let n=[];return n.push({label:"1",value:1}),n.push({label:"5",value:5}),n.push({label:"10",value:10}),n.push({label:"50",value:50}),n});return(n,r)=>{const l=pn;return d(),v(l,{modelValue:t(a).selectCount,"onUpdate:modelValue":r[0]||(r[0]=u=>t(a).selectCount=u),"value-key":"value",items:t(o),"search-input":!1,class:"justify-center w-24"},null,8,["modelValue","items"])}}},mn={__name:"BtnAssign",props:["id"],setup(s){const i=s,e=ae(),a=c(()=>e.elems.find(r=>r.id==i.id)),o=c(()=>!(a.value.status&&a.value.status!="stopped"||e.elems.find(l=>l.id==a.value.assignId).availableCount<=0));function n(){o.value&&(a.value.assignCount+=a.value.selectCount,e.onAssign(a.value,a.value.selectCount))}return(r,l)=>{const u=Ve,b=Ee;return d(),v(b,{text:r.$t("word_assign"),"delay-duration":0},{default:p(()=>[_(u,{icon:"i-lucide-plus-circle",color:"primary",variant:"subtle",disabled:!t(o),onClick:l[0]||(l[0]=g=>n())},null,8,["disabled"])]),_:1},8,["text"])}}},gn={base:"relative",variants:{size:{xs:"",sm:"",md:"",lg:"",xl:""},orientation:{horizontal:"inline-flex -space-x-px",vertical:"flex flex-col -space-y-px"}}},vn={__name:"ButtonGroup",props:{as:{type:null,required:!1},size:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(s){const i=s,e=Ge(),a=c(()=>{var o;return me({extend:me(gn),...((o=e.ui)==null?void 0:o.buttonGroup)||{}})});return ca(pa,c(()=>({orientation:i.orientation,size:i.size}))),(o,n)=>(d(),v(t(G),{as:s.as,class:E(a.value({orientation:s.orientation,class:i.class}))},{default:p(()=>[I(o.$slots,"default")]),_:3},8,["as","class"]))}},hn={class:"flex items-center gap-2"},bn={__name:"LineAssignment",props:["id"],setup(s){const i=s,e=ae(),a=c(()=>e.elems.find(n=>n.id==i.id)),o=c(()=>e.elems.find(n=>n.id==a.value.assignId));return(n,r)=>{const l=on,u=ln,b=fn,g=mn,h=vn;return d(),L("div",hn,[_(l,{id:t(o).id},null,8,["id"]),q("span",null,[r[0]||(r[0]=q("small",{class:"opacity-75"},"x",-1)),pe(" "+N(t(a).assignCount),1)]),_(h,{class:"ms-auto"},{default:p(()=>[_(u,{id:t(a).id},null,8,["id"]),_(b,{id:t(a).id},null,8,["id"]),_(g,{id:t(a).id},null,8,["id"])]),_:1})])}}},yn={__name:"BtnInput",props:["id","count"],setup(s){const i=s,e=ae(),a=c(()=>e.elems.find(n=>n.id==i.id)),o=c(()=>a.value.count>=i.count?"success":"error");return(n,r)=>{const l=Ve,u=Ze,b=Ee;return d(),v(b,{text:n.$t(t(a).label),"delay-duration":0},{default:p(()=>[_(u,{size:"3xl",color:t(o),position:"bottom-right",text:s.count.toLocaleString()},{default:p(()=>[_(l,{avatar:{src:t(a).img},color:t(o),variant:"subtle",to:"/item/"+t(a).id},null,8,["avatar","color","to"])]),_:1},8,["color","text"])]),_:1},8,["text"])}}},xn={__name:"BtnOutput",props:["id","count"],setup(s){const i=s,e=ae(),a=c(()=>e.elems.find(n=>n.id==i.id)),o=c(()=>a.value.count+i.count<=a.value.max?"success":"error");return(n,r)=>{const l=Ve,u=Ze,b=Ee;return d(),v(b,{text:n.$t(t(a).label),"delay-duration":0},{default:p(()=>[_(u,{size:"3xl",color:t(o),position:"bottom-right",text:s.count.toLocaleString()},{default:p(()=>[_(l,{avatar:{src:t(a).img},color:t(o),variant:"subtle",to:"/item/"+t(a).id},null,8,["avatar","color","to"])]),_:1},8,["color","text"])]),_:1},8,["text"])}}},_n={class:"flex flex-nowrap items-start justify-end gap-2"},Cn={key:0,class:"flex items-center gap-1"},wn={class:"opacity-75",style:{"line-height":"32px"}},In={class:"flex items-center gap-1"},zn={__name:"LineRecipe",props:["id"],setup(s){const i=s,e=ae(),a=c(()=>e.elems.find(r=>r.id==i.id)),o=c(()=>a.value.getOutputs()),n=c(()=>a.value.getInputs());return(r,l)=>{const u=yn,b=Se,g=xn;return d(),L("div",_n,[t(n)?(d(),L("div",Cn,[(d(!0),L(ce,null,$e(t(n),h=>(d(),v(u,{key:h.id,id:h.id,count:h.count},null,8,["id","count"]))),128))])):T("",!0),q("div",wn,[t(n)?(d(),v(b,{key:0,name:"i-lucide-move-right"})):T("",!0)]),q("div",In,[(d(!0),L(ce,null,$e(t(o),h=>(d(),v(g,{key:h.id,id:h.id,count:h.count},null,8,["id","count"]))),128))])])}}},Sn={slots:{root:"gap-2",base:"relative overflow-hidden rounded-full bg-accented",indicator:"rounded-full size-full transition-transform duration-200 ease-out",status:"flex justify-end text-dimmed transition-[width] duration-200",steps:"grid items-end",step:"truncate text-end row-start-1 col-start-1 transition-opacity"},variants:{animation:{carousel:"","carousel-inverse":"",swing:"",elastic:""},color:{primary:{indicator:"bg-primary",steps:"text-primary"},secondary:{indicator:"bg-secondary",steps:"text-secondary"},success:{indicator:"bg-success",steps:"text-success"},info:{indicator:"bg-info",steps:"text-info"},warning:{indicator:"bg-warning",steps:"text-warning"},error:{indicator:"bg-error",steps:"text-error"},neutral:{indicator:"bg-inverted",steps:"text-inverted"}},size:{"2xs":{status:"text-xs",steps:"text-xs"},xs:{status:"text-xs",steps:"text-xs"},sm:{status:"text-sm",steps:"text-sm"},md:{status:"text-sm",steps:"text-sm"},lg:{status:"text-sm",steps:"text-sm"},xl:{status:"text-base",steps:"text-base"},"2xl":{status:"text-base",steps:"text-base"}},step:{active:{step:"opacity-100"},first:{step:"opacity-100 text-muted"},other:{step:"opacity-0"},last:{step:""}},orientation:{horizontal:{root:"w-full flex flex-col",base:"w-full",status:"flex-row"},vertical:{root:"h-full flex flex-row-reverse",base:"h-full",status:"flex-col"}},inverted:{true:{status:"self-end"}}},compoundVariants:[{inverted:!0,orientation:"horizontal",class:{step:"text-start",status:"flex-row-reverse"}},{inverted:!0,orientation:"vertical",class:{steps:"items-start",status:"flex-col-reverse"}},{orientation:"horizontal",size:"2xs",class:"h-px"},{orientation:"horizontal",size:"xs",class:"h-0.5"},{orientation:"horizontal",size:"sm",class:"h-1"},{orientation:"horizontal",size:"md",class:"h-2"},{orientation:"horizontal",size:"lg",class:"h-3"},{orientation:"horizontal",size:"xl",class:"h-4"},{orientation:"horizontal",size:"2xl",class:"h-5"},{orientation:"vertical",size:"2xs",class:"w-px"},{orientation:"vertical",size:"xs",class:"w-0.5"},{orientation:"vertical",size:"sm",class:"w-1"},{orientation:"vertical",size:"md",class:"w-2"},{orientation:"vertical",size:"lg",class:"w-3"},{orientation:"vertical",size:"xl",class:"w-4"},{orientation:"vertical",size:"2xl",class:"w-5"},{orientation:"horizontal",animation:"carousel",class:{indicator:"data-[state=indeterminate]:animate-[carousel_2s_ease-in-out_infinite] data-[state=indeterminate]:rtl:animate-[carousel-rtl_2s_ease-in-out_infinite]"}},{orientation:"vertical",animation:"carousel",class:{indicator:"data-[state=indeterminate]:animate-[carousel-vertical_2s_ease-in-out_infinite]"}},{orientation:"horizontal",animation:"carousel-inverse",class:{indicator:"data-[state=indeterminate]:animate-[carousel-inverse_2s_ease-in-out_infinite] data-[state=indeterminate]:rtl:animate-[carousel-inverse-rtl_2s_ease-in-out_infinite]"}},{orientation:"vertical",animation:"carousel-inverse",class:{indicator:"data-[state=indeterminate]:animate-[carousel-inverse-vertical_2s_ease-in-out_infinite]"}},{orientation:"horizontal",animation:"swing",class:{indicator:"data-[state=indeterminate]:animate-[swing_2s_ease-in-out_infinite]"}},{orientation:"vertical",animation:"swing",class:{indicator:"data-[state=indeterminate]:animate-[swing-vertical_2s_ease-in-out_infinite]"}},{orientation:"horizontal",animation:"elastic",class:{indicator:"data-[state=indeterminate]:animate-[elastic_2s_ease-in-out_infinite]"}},{orientation:"vertical",animation:"elastic",class:{indicator:"data-[state=indeterminate]:animate-[elastic-vertical_2s_ease-in-out_infinite]"}}],defaultVariants:{animation:"carousel",color:"primary",size:"md"}},$n={__name:"Progress",props:{as:{type:null,required:!1},max:{type:[Number,Array],required:!1},status:{type:Boolean,required:!1},inverted:{type:Boolean,required:!1,default:!1},size:{type:null,required:!1},color:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},animation:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},getValueLabel:{type:Function,required:!1},modelValue:{type:[Number,null],required:!1,default:null}},emits:["update:modelValue","update:max"],setup(s,{emit:i}){const e=s,a=i,o=lt(),{dir:n}=kt(),r=Ge(),l=it(Bt(e,"getValueLabel","modelValue"),a),u=c(()=>l.value.modelValue===null),b=c(()=>Array.isArray(e.max)),g=c(()=>{if(!(u.value||!e.max))return Array.isArray(e.max)?e.max.length-1:Number(e.max)}),h=c(()=>{if(!u.value)switch(!0){case l.value.modelValue<0:return 0;case l.value.modelValue>(g.value??100):return 100;default:return Math.round(l.value.modelValue/(g.value??100)*100)}}),x=c(()=>{if(h.value!==void 0)return e.orientation==="vertical"?{transform:`translateY(${e.inverted?"":"-"}${100-h.value}%)`}:n.value==="rtl"?{transform:`translateX(${e.inverted?"-":""}${100-h.value}%)`}:{transform:`translateX(${e.inverted?"":"-"}${100-h.value}%)`}}),$=c(()=>({[e.orientation==="vertical"?"height":"width"]:h.value?`${h.value}%`:"fit-content"}));function C(A){return A===Number(e.modelValue)}function D(A){return A===0}function Q(A){return A===g.value}function oe(A){return A=Number(A),C(A)&&!D(A)?"active":D(A)&&C(A)?"first":Q(A)&&C(A)?"last":"other"}const H=c(()=>{var A;return me({extend:me(Sn),...((A=r.ui)==null?void 0:A.progress)||{}})({animation:e.animation,size:e.size,color:e.color,orientation:e.orientation,inverted:e.inverted})});return(A,le)=>{var K;return d(),v(t(G),{as:s.as,class:E(H.value.root({class:[e.class,(K=e.ui)==null?void 0:K.root]}))},{default:p(()=>{var Y,P,Z;return[!u.value&&(s.status||o.status)?(d(),L("div",{key:0,class:E(H.value.status({class:(Y=e.ui)==null?void 0:Y.status})),style:xt($.value)},[I(A.$slots,"status",{percent:h.value},()=>[pe(N(h.value)+"% ",1)])],6)):T("",!0),_(t(en),F(t(l),{max:g.value,class:H.value.base({class:(P=e.ui)==null?void 0:P.base}),style:{transform:"translateZ(0)"}}),{default:p(()=>{var V;return[_(t(tn),{class:E(H.value.indicator({class:(V=e.ui)==null?void 0:V.indicator})),style:xt(x.value)},null,8,["class","style"])]}),_:1},16,["max","class"]),b.value?(d(),L("div",{key:1,class:E(H.value.steps({class:(Z=e.ui)==null?void 0:Z.steps}))},[(d(!0),L(ce,null,$e(s.max,(V,X)=>{var R;return d(),L("div",{key:X,class:E(H.value.step({class:(R=e.ui)==null?void 0:R.step,step:oe(X)}))},[I(A.$slots,`step-${X}`,{step:V},()=>[pe(N(V),1)])],2)}),128))],2)):T("",!0)]}),_:3},8,["as","class"])}}},kn={__name:"BtnStart",props:["id"],setup(s){const i=s,e=ae(),a=c(()=>e.elems.find(r=>r.id==i.id)),o=c(()=>{if(a.value.assignCount<=0||a.value.status!="stopped")return!1;if(a.value.type=="manual"){let r=!0;if(a.value.getOutputs().forEach(u=>{let b=e.elems.find(g=>g.id==u.id);b.count>=b.max&&(r=!1)}),!r)return!1}return!0});function n(){o.value&&(a.value.status="waiting",a.value.remainingSeconds=a.value.seconds)}return(r,l)=>{const u=Ve,b=Ee;return d(),v(b,{text:r.$t("word_start"),"delay-duration":0},{default:p(()=>[_(u,{icon:"i-lucide-play",color:"primary",variant:"subtle",disabled:!t(o),onClick:l[0]||(l[0]=g=>n())},null,8,["disabled"])]),_:1},8,["text"])}}},Bn={__name:"BtnStop",props:["id"],setup(s){const i=s,e=ae(),a=c(()=>e.elems.find(r=>r.id==i.id)),o=c(()=>a.value.status!="stopped");function n(){if(!o.value)return;let r=a.value.getInputs();r&&r.forEach(l=>{let u=e.elems.find(b=>b.id==l.id);u.count=Math.min(u.count+l.count,u.max)}),a.value.status="stopped",a.value.remainingSeconds=a.value.seconds}return(r,l)=>{const u=Ve,b=Ee;return d(),v(b,{text:r.$t("word_stop"),"delay-duration":0},{default:p(()=>[_(u,{icon:"i-lucide-square",color:"error",variant:"subtle",disabled:!t(o),onClick:l[0]||(l[0]=g=>n())},null,8,["disabled"])]),_:1},8,["text"])}}},En={class:"flex items-center gap-2"},An={class:"flex-1 grid gap-1"},Vn={__name:"LineStart",props:["id"],setup(s){const i=s,e=ae(),a=c(()=>e.elems.find(r=>r.id==i.id)),o=c(()=>fa(a.value.remainingSeconds)),n=c(()=>100-Math.floor(100*a.value.remainingSeconds/a.value.seconds));return(r,l)=>{const u=$n,b=kn,g=Bn;return d(),L("div",En,[q("div",An,[q("span",null,N(t(o)),1),_(u,{size:"xs",modelValue:t(n),"onUpdate:modelValue":l[0]||(l[0]=h=>st(n)?n.value=h:null)},null,8,["modelValue"])]),t(a).status=="stopped"?(d(),v(b,{key:0,id:t(a).id},null,8,["id"])):(d(),v(g,{key:1,id:t(a).id},null,8,["id"]))])}}},qn={class:"grid gap-6"},Ln={class:"flex items-center gap-2"},Fn=["src"],Tn={class:"text-lg font-semibold"},On={class:"grid gap-6"},Pn={class:"flex items-center gap-2"},Kn={class:"text-lg font-semibold"},Rn={class:"grid lg:grid-cols-2 items-start gap-6"},Mn={key:0,class:"grid gap-1"},Dn={class:"text-xs font-semibold text-zinc-400"},Nn={key:1,class:"grid gap-1"},Un={class:"text-xs font-semibold text-zinc-400"},jn={class:"grid gap-3"},Gn={class:"grid gap-6"},Hn={class:"flex items-center gap-2"},Wn={class:"text-lg font-semibold"},Xn={class:"grid lg:grid-cols-2 items-start gap-6"},Yn={class:"grid gap-1"},Jn={class:"text-xs font-semibold text-zinc-400"},Qn={class:"grid gap-1"},Zn={class:"text-xs font-semibold text-zinc-400"},es={class:"grid gap-3"},ss={__name:"[id]",setup(s){const i=ae(),e=ma(),a=c(()=>i.elems.find(l=>l.id==e.params.id));he(()=>{let l=i.elems.find(x=>x.link=="/item/"+e.params.id),u=i.elems.find(x=>x.id==l.parentId),b=i.elems.find(x=>x.id==u.parentId),h=i.elems.filter(x=>x.type=="tab").indexOf(b);i.activeTab=h.toString()});const o=c(()=>i.elems.find(l=>l.type=="storage"&&l.itemId==e.params.id)),n=c(()=>i.elems.find(l=>l.type=="manual"&&l.itemId==e.params.id)),r=c(()=>i.elems.find(l=>l.type=="production"&&l.itemId==e.params.id));return(l,u)=>{const b=nn,g=ga,h=bn,x=zn,$=Vn;return d(),L("div",qn,[_(g,{variant:"outline"},{default:p(()=>[q("div",Ln,[q("img",{src:t(a).img,width:"24",height:"24"},null,8,Fn),q("span",Tn,N(l.$t(t(a).label)),1),_(b,{class:"ms-auto",id:t(a).id},null,8,["id"])])]),_:1}),t(o)||t(n)?(d(),v(g,{key:0,variant:"outline"},{default:p(()=>[q("div",On,[q("div",Pn,[q("span",Kn,N(l.$t("word_storage")),1)]),q("div",Rn,[t(o)?(d(),L("div",Mn,[q("span",Dn,N(l.$t("word_storer")),1),_(h,{id:t(o).id},null,8,["id"])])):T("",!0),t(n)?(d(),L("div",Nn,[q("span",Un,N(l.$t("word_handcrafting")),1),q("div",jn,[_(x,{id:t(n).id},null,8,["id"]),_($,{id:t(n).id},null,8,["id"])])])):T("",!0)])])]),_:1})):T("",!0),t(r)?(d(),v(g,{key:1,variant:"outline"},{default:p(()=>[q("div",Gn,[q("div",Hn,[q("span",Wn,N(l.$t("word_production")),1)]),q("div",Xn,[q("div",Yn,[q("span",Jn,N(l.$t("word_machine")),1),_(h,{id:t(r).id},null,8,["id"])]),q("div",Qn,[q("span",Zn,N(l.$t("word_recipe")),1),q("div",es,[_(x,{id:t(r).id},null,8,["id"]),_($,{id:t(r).id},null,8,["id"])])])])])]),_:1})):T("",!0)])}}};export{ss as default};
