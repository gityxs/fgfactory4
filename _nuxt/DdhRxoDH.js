import{f as C}from"./CYMVvgqh.js";import{u as p}from"./DATGy73T.js";import{f as l,o as m,c as f,h as n,a as r,j as w,t as g,n as k,r as x,b as y}from"./BeR7zn4q.js";const B={class:"row gx-2 align-items-center justify-content-end"},E=["title"],S=["src"],M={class:"col text-white text-truncate"},N={class:"col-auto"},V={__name:"BlockCost",props:["id","count"],setup(c){const d=c,t=p(),e=l(()=>t.getElem(d.id));return(a,u)=>(m(),f("div",B,[n(e).img!=null?(m(),f("div",{key:0,class:"col-auto",title:a.$t(n(e).name)},[r("img",{src:n(e).img,width:"16",height:"16"},null,8,S)],8,E)):w("",!0),r("div",M,g(a.$t(n(e).name)),1),r("div",N,[r("span",{class:k(["badge d-block",{"text-bg-success":n(e).count>=c.count,"text-bg-danger":n(e).count<c.count}]),style:{width:"55px"}},g(n(C)(c.count)),3)])]))}},j={__name:"ManualButton",props:["id","icon"],setup(c){const d=c,t=p(),e=l(()=>t.elems.find(s=>s.id==d.id)),a=l(()=>t.getCosts(e.value)),u=l(()=>t.getInputs(e.value)),v=l(()=>t.getResults(e.value)),i=l(()=>t.getUpgrades(e.value)),h=l(()=>!(e.value.seconds&&e.value.status!="waiting"||v.value&&!t.checkResults(v.value)||u.value&&!t.checkProds(u.value)||a.value&&!t.checkCounts(a.value)||i.value&&!t.checkAvailables(i.value))),_=function(){if(u.value)for(let s in u.value){let o=t.getElem(s);o.prod-=u.value[s],o.prod=Math.round(o.prod*100)/100}if(a.value)for(let s in a.value){let o=t.getElem(s);o.count-=a.value[s],o.count=Math.round(o.count*100)/100}if(i.value)for(let s in i.value){let o=t.getElem(s);o.count-=i.value[s],o.count=Math.round(o.count*100)/100}e.value.seconds?(e.value.status="started",e.value.remainingSeconds=e.value.seconds):t.onBuild(e.value)};return(s,o)=>{const b=x("font-awesome-icon");return m(),f("button",{type:"button",class:k(["btn btn-primary",{disabled:!n(h)}]),onClick:o[0]||(o[0]=R=>{n(h)&&_()})},[y(b,{icon:c.icon,"fixed-width":""},null,8,["icon"])],2)}}};export{V as _,j as a};
