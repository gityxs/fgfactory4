import{e as p,f as l,o as v,c as f,h as o,a as r,j as C,t as g,p as k,m as w,r as x,b as y,n as B}from"./CLIvMcHX.js";const E={class:"row gx-1 align-items-center justify-content-end"},M=["title"],S=["src"],N={class:"col text-white text-truncate"},R={class:"col-auto"},P={__name:"BlockCost",props:["id","count"],setup(c){const d=c,t=p(),e=l(()=>t.getElem(d.id));return(a,u)=>(v(),f("div",E,[o(e).img!=null?(v(),f("div",{key:0,class:"col-auto",title:a.$t(o(e).name)},[r("img",{src:o(e).img,width:"16",height:"16"},null,8,S)],8,M)):C("",!0),r("div",N,g(a.$t(o(e).name)),1),r("div",R,[r("span",{class:k(["badge d-block",{"text-bg-success":o(e).count>=c.count,"text-bg-danger":o(e).count<c.count}]),style:{width:"55px"}},g(o(w)(c.count)),3)])]))}},V={__name:"ManualButton",props:["id","icon"],setup(c){const d=c,t=p(),e=l(()=>t.elems.find(s=>s.id==d.id)),a=l(()=>t.getCosts(e.value)),u=l(()=>t.getInputs(e.value)),m=l(()=>t.getResults(e.value)),i=l(()=>t.getUpgrades(e.value)),h=l(()=>!(e.value.seconds&&e.value.status!="waiting"||m.value&&!t.checkResults(m.value)||u.value&&!t.checkProds(u.value)||a.value&&!t.checkCounts(a.value)||i.value&&!t.checkAvailables(i.value))),_=function(){if(u.value)for(let s in u.value){let n=t.getElem(s);n.prod-=u.value[s],n.prod=Math.round(n.prod*100)/100}if(a.value)for(let s in a.value){let n=t.getElem(s);n.count-=a.value[s],n.count=Math.round(n.count*100)/100}if(i.value)for(let s in i.value){let n=t.getElem(s);n.count-=i.value[s],n.count=Math.round(n.count*100)/100}e.value.seconds?(e.value.status="started",e.value.remainingSeconds=e.value.seconds):t.onBuild(e.value)};return(s,n)=>{const b=x("font-awesome-icon");return v(),f("button",{type:"button",class:k(["btn btn-primary",{disabled:!o(h)}]),onClick:n[0]||(n[0]=B($=>{o(h)&&_()},["prevent"]))},[y(b,{icon:c.icon,"fixed-width":""},null,8,["icon"])],2)}}};export{P as _,V as a};
