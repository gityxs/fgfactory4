import{_ as I,d as M,a as q,c as S,b as R}from"./D6o9O_V4.js";import{f as b,g as d,h as f,o as u,w as g,a as r,t as h,i as e,c as x,b as _,n as U,C as H,D as V,E as J,G as Q,H as W,I as X,P as Y,d as T,F as w,r as z,B as Z,m as G,J as tt,K as et,A as k}from"./ifPcBeM2.js";import{a as N,_ as B}from"./DXwla73v.js";const nt={__name:"ElemAvailablePage",props:["id"],setup(c){const i=c,a=b(),t=d(()=>a.elems.find(o=>o.id==i.id));return(o,n)=>{const l=N;return u(),f(l,{variant:"subtle",color:"success",class:"text-nowrap"},{default:g(()=>[r("span",null,h(e(t).availableCount.toLocaleString())+" "+h(o.$t("word_available")),1)]),_:1})}}},st={__name:"UpgradeStorageValue",props:["id"],setup(c){const i=c,a=b(),t=d(()=>a.elems.find(n=>n.id==i.id)),o=d(()=>a.elems.find(l=>l.id==t.value.itemId).stack*t.value.slots*t.value.selectCount);return(n,l)=>(u(),x("span",null,"+"+h(e(o).toLocaleString()),1))}},ot={__name:"BtnAssignee",props:["id"],setup(c){const i=c,a=b(),t=d(()=>a.elems.find(n=>n.id==i.id)),o=d(()=>t.value.availableCount>0?"success":"error");return(n,l)=>{const p=U,s=I,m=B;return u(),f(m,{text:n.$t(e(t).label),"delay-duration":0},{default:g(()=>[_(s,{size:"3xl",color:e(o),position:"bottom-left",text:e(t).availableCount.toLocaleString()},{default:g(()=>[_(p,{avatar:{src:e(t).img},color:e(o),variant:"subtle",to:"/item/"+e(t).id},null,8,["avatar","color","to"])]),_:1},8,["color","text"])]),_:1},8,["text"])}}},it={__name:"BtnUnassign",props:["id"],setup(c){const i=c,a=b(),t=d(()=>a.elems.find(l=>l.id==i.id)),o=d(()=>{if(t.value.assignCount<=0)return!1;if(t.value.type=="storage"){let l=a.elems.find(p=>p.id==t.value.itemId);if(l.count>l.max-t.value.stack*t.value.selectCount)return!1}return!0});function n(){o.value&&(t.value.assignCount-=t.value.selectCount,a.onUnassign(t.value,t.value.selectCount))}return(l,p)=>{const s=U,m=B;return u(),f(m,{text:l.$t("word_unassign"),"delay-duration":0},{default:g(()=>[_(s,{icon:"i-lucide-minus-circle",color:"error",variant:"subtle",disabled:!e(o),onClick:p[0]||(p[0]=$=>n())},null,8,["disabled"])]),_:1},8,["text"])}}},at={__name:"BtnSelect",props:["id"],setup(c){const i=c,a=b(),t=d(()=>a.elems.find(n=>n.id==i.id)),o=d(()=>{let n=[];return n.push({label:"1",value:1}),n.push({label:"5",value:5}),n.push({label:"10",value:10}),n.push({label:"50",value:50}),n});return(n,l)=>{const p=M;return u(),f(p,{modelValue:e(t).selectCount,"onUpdate:modelValue":l[0]||(l[0]=s=>e(t).selectCount=s),"value-key":"value",items:e(o),"search-input":!1,class:"justify-center"},null,8,["modelValue","items"])}}},lt={__name:"BtnAssign",props:["id"],setup(c){const i=c,a=b(),t=d(()=>a.elems.find(l=>l.id==i.id)),o=d(()=>!(a.elems.find(p=>p.id==t.value.assignId).availableCount<t.value.selectCount));function n(){o.value&&(t.value.assignCount+=t.value.selectCount,a.onAssign(t.value,t.value.selectCount))}return(l,p)=>{const s=U,m=B;return u(),f(m,{text:l.$t("word_assign"),"delay-duration":0},{default:g(()=>[_(s,{icon:"i-lucide-plus-circle",color:"primary",variant:"subtle",disabled:!e(o),onClick:p[0]||(p[0]=$=>n())},null,8,["disabled"])]),_:1},8,["text"])}}},ct={base:"relative",variants:{size:{xs:"",sm:"",md:"",lg:"",xl:""},orientation:{horizontal:"inline-flex -space-x-px",vertical:"flex flex-col -space-y-px"}}},rt={__name:"ButtonGroup",props:{as:{type:null,required:!1},size:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(c){const i=c,a=H(),t=d(()=>{var o;return V({extend:V(ct),...((o=a.ui)==null?void 0:o.buttonGroup)||{}})});return J(Q,d(()=>({orientation:i.orientation,size:i.size}))),(o,n)=>(u(),f(e(Y),{as:c.as,class:X(t.value({orientation:c.orientation,class:i.class}))},{default:g(()=>[W(o.$slots,"default")]),_:3},8,["as","class"]))}},dt={class:"flex items-center gap-2"},P={__name:"LineAssignment",props:["id"],setup(c){const i=c,a=b(),t=d(()=>a.elems.find(n=>n.id==i.id)),o=d(()=>a.elems.find(n=>n.id==t.value.assignId));return(n,l)=>{const p=ot,s=N,m=it,$=at,v=lt,C=rt;return u(),x("div",dt,[_(p,{id:e(o).id},null,8,["id"]),_(s,{variant:"subtle",color:"neutral",class:"ms-auto text-nowrap"},{default:g(()=>[l[0]||(l[0]=r("small",{class:"opacity-75"},"x",-1)),T(" "+h(e(t).assignCount),1)]),_:1}),_(C,null,{default:g(()=>[_(m,{id:e(t).id},null,8,["id"]),_($,{id:e(t).id,class:"w-24"},null,8,["id"]),_(v,{id:e(t).id},null,8,["id"])]),_:1})])}}},ut={__name:"BtnInput",props:["id","count"],setup(c){const i=c,a=b(),t=d(()=>a.elems.find(n=>n.id==i.id)),o=d(()=>t.value.count>=i.count?"success":"error");return(n,l)=>{const p=U,s=I,m=B;return u(),f(m,{text:n.$t(e(t).label),"delay-duration":0},{default:g(()=>[_(s,{size:"3xl",color:e(o),position:"bottom-right",text:c.count.toLocaleString()},{default:g(()=>[_(p,{avatar:{src:e(t).img},color:e(o),variant:"subtle",to:"/item/"+e(t).id},null,8,["avatar","color","to"])]),_:1},8,["color","text"])]),_:1},8,["text"])}}},_t={__name:"BtnOutput",props:["id","count"],setup(c){const i=c,a=b(),t=d(()=>a.elems.find(n=>n.id==i.id)),o=d(()=>t.value.count+i.count<=t.value.max?"success":"error");return(n,l)=>{const p=U,s=I,m=B;return u(),f(m,{text:n.$t(e(t).label),"delay-duration":0},{default:g(()=>[_(s,{size:"3xl",color:e(o),position:"bottom-right",text:c.count.toLocaleString()},{default:g(()=>[_(p,{avatar:{src:e(t).img},color:e(o),variant:"subtle",to:"/item/"+e(t).id},null,8,["avatar","color","to"])]),_:1},8,["color","text"])]),_:1},8,["text"])}}},pt={class:"flex items-start gap-2"},mt={key:0,class:"flex flex-wrap items-center gap-2"},ft={key:1,class:"opacity-75",style:{"line-height":"32px"}},gt={class:"opacity-75",style:{"line-height":"32px"}},vt={class:"flex items-center gap-2"},A={__name:"LineRecipe",props:["id"],setup(c){const i=c,a=b(),t=d(()=>a.elems.find(l=>l.id==i.id)),o=d(()=>t.value.getOutputs()),n=d(()=>t.value.getInputs());return(l,p)=>{const s=ut,m=Z,$=_t;return u(),x("div",pt,[e(n)?(u(),x("div",mt,[(u(!0),x(w,null,z(e(n),v=>(u(),f(s,{key:v.id,id:v.id,count:v.count},null,8,["id","count"]))),128))])):(u(),x("div",ft,[_(m,{name:"i-lucide-circle-slash-2"})])),r("div",gt,[_(m,{name:"i-lucide-move-right"})]),r("div",vt,[(u(!0),x(w,null,z(e(o),v=>(u(),f($,{key:v.id,id:v.id,count:v.count},null,8,["id","count"]))),128))])])}}},ht={class:"flex items-center gap-2"},bt={class:"text-lg font-semibold opacity-50"},xt={class:"grid gap-3"},$t={class:"text-lg font-semibold"},yt={class:"grid lg:grid-cols-2 gap-3 items-start"},Ct={class:"p-3 rounded bg-zinc-800 grid gap-3"},kt={class:"text-xs font-semibold opacity-75"},Ut={class:"grid gap-3"},Bt={class:"p-3 rounded bg-zinc-800 grid gap-3"},wt={class:"text-xs font-semibold opacity-75"},zt={class:"grid gap-3"},It={__name:"CardProduction",props:["id"],setup(c){const i=c,a=b(),t=d(()=>a.elems.find(n=>n.id==i.id)),o=d(()=>a.elems.find(n=>n.id==t.value.assignId));return(n,l)=>{const p=q,s=G,m=P,$=A,v=S;return e(o).unlocked==!1?(u(),f(s,{key:0,variant:"outline"},{default:g(()=>[r("div",ht,[_(p,{id:e(o).id},null,8,["id"]),r("span",bt,h(n.$t("word_production")),1)])]),_:1})):(u(),f(s,{key:1,variant:"outline"},{default:g(()=>[r("div",xt,[r("span",$t,h(n.$t("word_production")),1),r("div",yt,[r("div",Ct,[r("span",kt,h(n.$t("word_assignment")),1),r("div",Ut,[_(m,{id:e(t).id},null,8,["id"])])]),r("div",Bt,[r("span",wt,h(n.$t("word_crafting")),1),r("div",zt,[_($,{id:e(t).id},null,8,["id"]),_(v,{id:e(t).id},null,8,["id"])])])])])]),_:1}))}}},St={class:"p-3 rounded bg-zinc-800 grid gap-3 lg:grid-cols-3"},At={__name:"BlockUsage",props:["id"],setup(c){const i=c,a=b(),t=d(()=>a.elems.find(o=>o.id==i.id));return(o,n)=>{const l=A,p=S;return u(),x("div",St,[_(l,{id:e(t).id,class:"lg:col-span-2"},null,8,["id"]),_(p,{id:e(t).id},null,8,["id"])])}}},Lt={class:"flex items-center gap-2"},Vt={class:"text-lg font-semibold opacity-50"},qt={key:1,class:"grid gap-6"},Tt={class:"grid gap-3"},Gt={class:"flex items-center gap-2"},Nt=["src"],Pt={class:"truncate text-lg font-bold"},jt={class:"ms-auto flex items-center gap-2"},Et={class:"grid lg:grid-cols-2 gap-3 items-start"},Ot={key:0,class:"p-3 rounded bg-zinc-800 grid gap-3"},Dt={class:"text-xs font-semibold opacity-75"},Ft={class:"grid gap-3"},Kt={key:1,class:"p-3 rounded bg-zinc-800 grid gap-3"},Mt={class:"text-xs font-semibold opacity-75"},Rt={class:"grid gap-3"},Ht={class:"grid gap-3"},Jt={class:"flex items-center gap-2"},Qt={class:"truncate text-lg font-semibold"},Zt={__name:"[id]",setup(c){const i=b(),a=tt(),t=d(()=>i.elems.find(s=>s.id==a.params.id));et(()=>{let s=i.elems.find(y=>y.link=="/item/"+a.params.id),m=i.elems.find(y=>y.id==s.parentId),$=i.elems.find(y=>y.id==m.parentId),C=i.elems.filter(y=>y.type=="tab").indexOf($);i.activeTab=C.toString()});const o=d(()=>i.elems.find(s=>s.type=="storage"&&s.itemId==a.params.id)),n=d(()=>i.elems.find(s=>s.type=="manual"&&s.itemId==a.params.id)),l=d(()=>i.elems.find(s=>s.type=="production"&&s.itemId==a.params.id)),p=d(()=>i.elems.filter(s=>s.type=="production"&&s.assignCount>0&&s.inputs&&s.inputs.find(m=>m.id==a.params.id)));return(s,m)=>{const $=q,v=G,C=nt,y=R,j=st,E=P,O=A,D=S,F=It,K=At;return e(t).unlocked==!1?(u(),f(v,{key:0,variant:"outline"},{default:g(()=>[r("div",Lt,[_($,{id:e(t).id},null,8,["id"]),r("span",Vt,h(s.$t(e(t).label)),1)])]),_:1})):(u(),x("div",qt,[_(v,{variant:"outline"},{default:g(()=>[r("div",Tt,[r("div",Gt,[r("img",{src:e(t).img,width:"24",height:"24"},null,8,Nt),r("span",Pt,h(s.$t(e(t).label)),1),r("div",jt,[e(t).type=="machine"||e(t).type=="storer"?(u(),f(C,{key:0,id:e(t).id},null,8,["id"])):k("",!0),_(y,{id:e(t).id},null,8,["id"])])]),r("div",Et,[e(o)?(u(),x("div",Ot,[r("span",Dt,[T(h(s.$t("word_storage"))+" ",1),_(j,{id:e(o).id},null,8,["id"])]),r("div",Ft,[_(E,{id:e(o).id},null,8,["id"])])])):k("",!0),e(n)?(u(),x("div",Kt,[r("span",Mt,h(s.$t("word_manual")),1),r("div",Rt,[_(O,{id:e(n).id,class:"flex-1"},null,8,["id"]),_(D,{id:e(n).id},null,8,["id"])])])):k("",!0)])])]),_:1}),e(l)?(u(),f(F,{key:0,id:e(l).id},null,8,["id"])):k("",!0),e(p).length>0?(u(),f(v,{key:1,variant:"outline"},{default:g(()=>[r("div",Ht,[r("div",Jt,[r("span",Qt,h(s.$t("word_usages")),1)]),(u(!0),x(w,null,z(e(p),L=>(u(),f(K,{key:L.id,id:L.id},null,8,["id"]))),128))])]),_:1})):k("",!0)]))}}};export{Zt as default};
